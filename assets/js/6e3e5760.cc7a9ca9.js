"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[8810],{6992:(e,s,t)=>{t.r(s),t.d(s,{assets:()=>a,contentTitle:()=>c,default:()=>p,frontMatter:()=>l,metadata:()=>n,toc:()=>o});const n=JSON.parse('{"id":"purl/tests","title":"tests","description":"Tests","source":"@site/docs/purl/tests.md","sourceDirName":"purl","slug":"/purl/tests","permalink":"/packageurl.org/docs/purl/tests","draft":false,"unlisted":false,"editUrl":"https://github.com/package-url/purl-spec/blob/main/docs/tests.md","tags":[],"version":"current","frontMatter":{},"sidebar":"purl","previous":{"title":"how-to-parse","permalink":"/packageurl.org/docs/purl/how-to-parse"},"next":{"title":"PURL Types","permalink":"/packageurl.org/docs/purl/purl-spec-purl-types"}}');var r=t(4848),i=t(8453);const l={},c=void 0,a={},o=[{value:"Tests",id:"tests",level:2},{value:"Test groups",id:"test-groups",level:3},{value:"Test types",id:"test-types",level:3},{value:"Test case basics",id:"test-case-basics",level:3},{value:"Test case fields",id:"test-case-fields",level:4},{value:"Error handling",id:"error-handling",level:4}];function d(e){const s={a:"a",code:"code",h2:"h2",h3:"h3",h4:"h4",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.h2,{id:"tests",children:"Tests"}),"\n",(0,r.jsx)(s.p,{children:"The Package-URL (PURL) specification provides a JSON Schema and test\nfiles to support language-neutral testing of PURL implementations. The\nobjectives for the PURL schema and test files are to enable tools to conform\nto the PURL specification for tool functions such as:"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"build a canonical PURL string from a set of PURL component data"}),"\n",(0,r.jsx)(s.li,{children:"parse a canonical PURL string into a set of PURL components"}),"\n",(0,r.jsx)(s.li,{children:"parse a PURL string input and rebuild it as a canonical PURL string"}),"\n"]}),"\n",(0,r.jsxs)(s.p,{children:["The current  JSON schema is available at: ",(0,r.jsx)(s.a,{href:"https://github.com/package-url/purl-spec/blob/main/schemas/purl-test.schema-0.1.json",children:(0,r.jsx)(s.code,{children:"purl-spec/schemas/purl-test.schema-0.1.json"})}),"."]}),"\n",(0,r.jsx)(s.p,{children:"The test files are available at:"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.a,{href:"https://github.com/package-url/purl-spec/tree/main/tests/spec",children:(0,r.jsx)(s.code,{children:"purl-spec/tests/spec/"})}),":\nThis folder contains JSON test files that are not for a specific PURL type.\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.a,{href:"https://github.com/package-url/purl-spec/blob/main/tests/spec/specification-test.json",children:(0,r.jsx)(s.code,{children:"specification-test.json"})})," - This file contains an array of test objects\nthat primarily cover testing the validity of individual PURL components,\nseparators between PURL components, and complete PURL strings."]}),"\n",(0,r.jsx)(s.li,{children:"There is a proposal to add separate test files in this folder for each\nPURL component."}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.a,{href:"https://github.com/package-url/purl-spec/tree/main/tests/types",children:(0,r.jsx)(s.code,{children:"purl-spec/tests/types/"})}),": This folder contains one JSON test file for each registered PURL type. These\ntests should be focused on test cases that are specific to a PURL type, such\nas those for namespace or qualifiers."]}),"\n"]}),"\n",(0,r.jsx)(s.p,{children:"Two key properties in the PURL test JSON schema are:"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Test groups"}),"\n",(0,r.jsx)(s.li,{children:"Test types"}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"test-groups",children:"Test groups"}),"\n",(0,r.jsx)(s.p,{children:"There are two PURL test groups:"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"base"}),": Test group for base conformance tests. Base tests are pass/fail."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"advanced"}),": Test group for advanced tests. Advanced tests are more\npermissive than base tests. They may correct some errors."]}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"test-types",children:"Test types"}),"\n",(0,r.jsx)(s.p,{children:"There are three PURL test types:"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"build"}),": A test to build a canonical PURL output string from an input of\ndecoded PURL components. See also ",(0,r.jsx)(s.a,{href:"https://github.com/package-url/purl-spec/blob/main/docs/how-to-build.md",children:(0,r.jsx)(s.code,{children:"/docs/how-build.md"})}),"."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"parse"}),": A test to parse a PURL input string into a set of decoded components. See also ",(0,r.jsx)(s.a,{href:"https://github.com/package-url/purl-spec/blob/main/docs/how-to-parse.md",children:(0,r.jsx)(s.code,{children:"/docs/how-parse.md"})}),"."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"roundtrip"}),": A test to parse an input PURL string and then rebuild it as a\ncanonical PURL output string."]}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"test-case-basics",children:"Test case basics"}),"\n",(0,r.jsx)(s.h4,{id:"test-case-fields",children:"Test case fields"}),"\n",(0,r.jsx)(s.p,{children:"The fields for each test case are:"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"description: description of the test case purpose"}),"\n",(0,r.jsx)(s.li,{children:"test_group: base or advanced"}),"\n",(0,r.jsx)(s.li,{children:"test_type: build, parse, or roundtrip"}),"\n",(0,r.jsx)(s.li,{children:"input: PURL string or set of PURL components"}),"\n",(0,r.jsx)(s.li,{children:"expected_output: canonical PURL string, set of PURL components or null for\nan expected test failure"}),"\n",(0,r.jsx)(s.li,{children:"expected_failure: true or false"}),"\n",(0,r.jsx)(s.li,{children:"expected_failure_reason: description of the reason for the test case failure"}),"\n"]}),"\n",(0,r.jsx)(s.h4,{id:"error-handling",children:"Error handling"}),"\n",(0,r.jsx)(s.p,{children:"The standard error-handling behaviour for all test cases is based on two\nproperties from the PURL test schema:"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{children:'"expected_failure": {\n          "title": "Expected failure",\n          "description": "true if this test input is expected to fail to be processed.",\n          "type": "boolean",\n          "default": false\n        },\n        "expected_failure_reason": {\n          "title": "Expected failure reason",\n          "description": "The reason why this test is expected to fail if expected_failure is true.",\n          "default": null,\n          "type": [\n            "string",\n            "null"\n          ]\n        }          \n'})}),"\n",(0,r.jsxs)(s.p,{children:["In the case of a test case failure the ",(0,r.jsx)(s.code,{children:"expected_output"})," is null."]})]})}function p(e={}){const{wrapper:s}={...(0,i.R)(),...e.components};return s?(0,r.jsx)(s,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},8453:(e,s,t)=>{t.d(s,{R:()=>l,x:()=>c});var n=t(6540);const r={},i=n.createContext(r);function l(e){const s=n.useContext(i);return n.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function c(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:l(e.components),n.createElement(i.Provider,{value:s},e.children)}}}]);